$(document).ready(function(){$("#basicScenario").jsGrid({width:"100%",filtering:!0,editing:!0,inserting:!0,sorting:!0,paging:!0,autoload:!0,pageSize:15,pageButtonCount:5,deleteConfirm:"Do you really want to delete the client?",controller:db,fields:[{name:"Name",type:"text",width:150},{name:"Age",type:"number",width:50},{name:"Address",type:"text",width:200},{name:"Country",type:"select",items:db.countries,valueField:"Id",textField:"Name"},{name:"Married",type:"checkbox",title:"Is Married",sorting:!1},{type:"control"}]}),$("#serviceScenario").jsGrid({height:"auto",width:"100%",sorting:!0,paging:!1,autoload:!0,controller:{loadData:function(){var t=$.Deferred();return $.ajax({url:"https://services.odata.org/V3/(S(3mnweai3qldmghnzfshavfok))/OData/OData.svc/Products",dataType:"json"}).done(function(e){t.resolve(e.value)}),t.promise()}},fields:[{name:"Name",type:"text"},{name:"Description",type:"textarea",width:150},{name:"Rating",type:"number",width:50,align:"center",itemTemplate:function(e){return $("<div>").addClass("rating").append(Array(e+1).join("&#9733;"))}},{name:"Price",type:"number",width:50,itemTemplate:function(e){return e.toFixed(2)+"$"}}]}),$("#sorting-table").jsGrid({height:"400px",width:"100%",autoload:!0,selecting:!1,controller:db,fields:[{name:"Name",type:"text",width:150},{name:"Age",type:"number",width:50},{name:"Address",type:"text",width:200},{name:"Country",type:"select",items:db.countries,valueField:"Id",textField:"Name"},{name:"Married",type:"checkbox",title:"Is Married"}]}),$("#sort").on("click",function(){var e=$("#sortingField").val();$("#sorting-table").jsGrid("sort",e)}),$("#validation").jsGrid({width:"100%",filtering:!0,editing:!0,inserting:!0,sorting:!0,paging:!0,autoload:!0,pageSize:15,pageButtonCount:5,deleteConfirm:"Do you really want to delete the client?",controller:db,fields:[{name:"Name",type:"text",width:150,validate:"required"},{name:"Age",type:"number",width:50,validate:{validator:"range",param:[18,80]}},{name:"Address",type:"text",width:200,validate:{validator:"rangeLength",param:[10,250]}},{name:"Country",type:"select",items:db.countries,valueField:"Id",textField:"Name",validate:{message:"Country should be specified",validator:function(e){return 0<e}}},{name:"Married",type:"checkbox",title:"Is Married",sorting:!1},{type:"control"}]}),$("#loading").jsGrid({width:"100%",autoload:!0,paging:!0,pageLoading:!0,pageSize:15,pageIndex:2,controller:{loadData:function(e){var t=(e.pageIndex-1)*e.pageSize;return{data:db.clients.slice(t,t+e.pageSize),itemsCount:db.clients.length}}},fields:[{name:"Name",type:"text",width:150},{name:"Age",type:"number",width:50},{name:"Address",type:"text",width:200},{name:"Country",type:"select",items:db.countries,valueField:"Id",textField:"Name"},{name:"Married",type:"checkbox",title:"Is Married"}]}),$("#pager").on("change",function(){var e=parseInt($(this).val(),10);$("#loading").jsGrid("openPage",e)}),$("#customView").jsGrid({width:"100%",filtering:!0,editing:!0,sorting:!0,paging:!0,autoload:!0,pageSize:15,pageButtonCount:5,controller:db,fields:[{name:"Name",type:"text",width:150},{name:"Age",type:"number",width:50},{name:"Address",type:"text",width:200},{name:"Country",type:"select",items:db.countries,valueField:"Id",textField:"Name"},{name:"Married",type:"checkbox",title:"Is Married",sorting:!1},{type:"control",modeSwitchButton:!1,editButton:!1}]}),$(".config-panel input[type=checkbox]").on("click",function(){var e=$(this);$("#customView").jsGrid("option",e.attr("id"),e.is(":checked"))}),$("#batchDelete").jsGrid({width:"100%",autoload:!0,confirmDeleting:!1,paging:!0,controller:{loadData:function(){return db.clients}},fields:[{headerTemplate:function(){return $("<button>").attr("type","button").text("Delete").addClass("btn btn-primary mr-1").on("click",function(){e()})},itemTemplate:function(e,t){return $("<input>").attr("type","checkbox").prop("checked",-1<$.inArray(t,i)).on("change",function(){$(this).is(":checked")?a(t):n(t)})},align:"center",width:50},{name:"Name",type:"text",width:150},{name:"Age",type:"number",width:50},{name:"Address",type:"text",width:200}]});var i=[],a=function(e){i.push(e)},n=function(t){i=$.grep(i,function(e){return e!==t})},e=function(){if(i.length&&confirm("Are you sure?")){t(i);var e=$("#batchDelete");e.jsGrid("option","pageIndex",1),e.jsGrid("loadData"),i=[]}},t=function(t){db.clients=$.map(db.clients,function(e){return-1<$.inArray(e,t)?null:e})};$("#external").jsGrid({width:"100%",paging:!0,pageSize:15,pageButtonCount:5,pagerContainer:"#externalPager",pagerFormat:"current page: {pageIndex} &nbsp;&nbsp; {first} {prev} {pages} {next} {last} &nbsp;&nbsp; total pages: {pageCount}",pagePrevText:"<",pageNextText:">",pageFirstText:"<<",pageLastText:">>",pageNavigatorNextText:"&#8230;",pageNavigatorPrevText:"&#8230;",data:db.clients,fields:[{name:"Name",type:"text",width:150},{name:"Age",type:"number",width:50},{name:"Address",type:"text",width:200},{name:"Country",type:"select",items:db.countries,valueField:"Id",textField:"Name"},{name:"Married",type:"checkbox",title:"Is Married"}]})});