$(window).on("load",function(){var t=d3.select("#bar-negative"),a=20,n=20,e=30,r=50,i=t.node().getBoundingClientRect().width-r-n,d=500-a-e,l=d3.scale.linear().range([0,i]),s=d3.scale.ordinal().rangeRoundBands([0,d],.1),o=d3.svg.axis().scale(l).orient("bottom"),c=d3.svg.axis().scale(s).orient("left").tickSize(0).tickPadding(6),u=t.append("svg"),g=u.attr("width",i+r+n).attr("height",d+a+e).append("g").attr("transform","translate("+r+","+a+")");function f(){i=t.node().getBoundingClientRect().width-r-n,u.attr("width",i+r+n),g.attr("width",i+r+n),l.range([0,i]),g.selectAll(".d3-xaxis").call(o),g.selectAll(".d3-yaxis").attr("transform","translate("+l(0)+",0)"),g.selectAll(".d3-bar").attr("x",function(t){return l(Math.min(0,t.value))}).attr("y",function(t){return s(t.name)}).attr("width",function(t){return Math.abs(l(t.value)-l(0))})}d3.tsv("../../../app-assets/data/d3/bar/bar-negative.tsv",function(t){return t.value=+t.value,t},function(t,a){if(t)throw t;l.domain(d3.extent(a,function(t){return t.value})).nice(),s.domain(a.map(function(t){return t.name})),g.selectAll(".d3-bar").data(a).enter().append("rect").attr("class",function(t){return"d3-bar d3-bar--"+(t.value<0?"negative":"positive")}).attr("x",function(t){return l(Math.min(0,t.value))}).attr("y",function(t){return s(t.name)}).attr("width",function(t){return Math.abs(l(t.value)-l(0))}).attr("height",s.rangeBand()),g.append("g").attr("class","d3-axis d3-xaxis").attr("transform","translate(0,"+d+")").call(o),g.append("g").attr("class","d3-axis d3-yaxis").attr("transform","translate("+l(0)+",0)").call(c)}),$(window).on("resize",f),$(".menu-toggle").on("click",f)});