$(window).on("load",function(){var l=d3.select("#tree-chart"),t=20,s=20,e=30,o=50,i=l.node().getBoundingClientRect().width-o-s,c=600-t-e,p=l.append("svg"),u=p.attr("width",i+o+s).attr("height",c+t+e).append("g").attr("transform","translate("+o+","+t+")"),f=d3.layout.tree().size([c,i-180]),g=d3.svg.diagonal().projection(function(t){return[t.y,t.x]});d3.json("../../../app-assets/data/d3/tree/tree.json",function(t,e){var n=f.nodes(e),r=f.links(n),a=(u.append("g").attr("class","d3-tree-link-group").selectAll(".d3-tree-link").data(r).enter().append("path").attr("class","d3-tree-link").attr("d",g).style("fill","none").style("stroke","#e3e3e3").style("stroke-width",1.5),u.append("g").attr("class","d3-tree-node-group").selectAll(".d3-tree-node").data(n).enter().append("g").attr("class","d3-tree-node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"}));function d(){i=l.node().getBoundingClientRect().width-o-s,n=f.nodes(e),r=f.links(n),p.attr("width",i+o+s),u.attr("width",i+o+s),f.size([c,i-180]),u.selectAll(".d3-tree-link").attr("d",g),u.selectAll(".d3-tree-node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"})}a.append("circle").attr("r",4.5).attr("class","d3-tree-circle").style("fill","#fff").style("stroke","#E84A5F").style("stroke-width",1.5),a.append("text").attr("dx",function(t){return t.children?-12:12}).attr("dy",4).style("text-anchor",function(t){return t.children?"end":"start"}).style("font-size",12).text(function(t){return t.name}),$(window).on("resize",d),$(".menu-toggle").on("click",d)})});